import options from "../config/options.js"

/**
 * i18n å›½é™…åŒ–æ¨¡å—ä½¿ç”¨è§„èŒƒï¼š
 * 
 * 1. å…¬å…±é€šç”¨è¯æ±‡ï¼ˆå¦‚"ä¿å­˜"ã€"å–æ¶ˆ"ã€"ç¡®è®¤"ç­‰åœ¨å¤šå¤„å¤ç”¨çš„ï¼‰ï¼š
 *    æ”¾å…¥ globalDictï¼Œä½¿ç”¨ trs("é€šç”¨/ä¿å­˜") è°ƒç”¨
 * 
 * 2. éžå…¬å…±çš„ä¸šåŠ¡æ¶ˆæ¯ï¼ˆä»…åœ¨ç‰¹å®šä½ç½®ä½¿ç”¨çš„æç¤ºä¿¡æ¯ï¼‰ï¼š
 *    ç›´æŽ¥åœ¨ä»£ç å¤„ä½¿ç”¨å†…è”ç¿»è¯‘ï¼štrs("ä¸­æ–‡keyï¼Œå¸¦åˆ†ç±»", { cn: "ä¸­æ–‡æ¶ˆæ¯", en: "English message" })
 *    è¿™æ ·å¯ä»¥åœ¨ä»£ç ç¼–è¾‘å¤„ç›´æŽ¥çœ‹åˆ°å®žé™…çš„æç¤ºæ–‡æ¡ˆ
 * 
 * ç¤ºä¾‹ï¼š
 *   å…¬å…±è¯æ±‡ï¼štrs("é€šç”¨/ä¿å­˜")
 *   ä¸šåŠ¡æ¶ˆæ¯ï¼štrs("é”™è¯¯/æœåŠ¡å™¨å†…éƒ¨é”™è¯¯", { cn: "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯", en: "Internal Server Error" })
 */

// å…¨å±€é€šç”¨è¯å…¸ï¼Œä½¿ç”¨å±‚çº§è·¯å¾„ä½œä¸º Key: "åˆ†ç±»/å­åˆ†ç±»/é”®å"
export const globalDict = {
  // é€šç”¨æ“ä½œ
  "é€šç”¨/ä¿å­˜": { cn: "ä¿å­˜", en: "Save" },
  "é€šç”¨/å–æ¶ˆ": { cn: "å–æ¶ˆ", en: "Cancel" },
  "é€šç”¨/ç¡®è®¤": { cn: "ç¡®è®¤", en: "Confirm" },
  "é€šç”¨/åˆ é™¤": { cn: "åˆ é™¤", en: "Delete" },
  "é€šç”¨/è¿”å›ž": { cn: "è¿”å›ž", en: "Back" },
  "é€šç”¨/å…¨å±": { cn: "å…¨å±", en: "Full Screen" },
  "é€šç”¨/æ”¶èµ·": { cn: "æ”¶èµ·", en: "Collapse" },
  "é€šç”¨/å±•å¼€": { cn: "å±•å¼€", en: "Expand" },
  "é€šç”¨/æŠ˜å ": { cn: "æŠ˜å ", en: "Fold" },
  "é€šç”¨/è¯¦æƒ…": { cn: "è¯¦æƒ…", en: "Detail" },
  "é€šç”¨/ç¡®è®¤åˆ é™¤": { cn: "ç¡®è®¤åˆ é™¤", en: "Confirm Delete" },

  // èœå•æ  (Electron åŽŸç”ŸåŠè™šæ‹Ÿèœå•)
  "èœå•æ /åˆ†ç±»/æ–‡ä»¶": { cn: "æ–‡ä»¶", en: "File" },
  "èœå•æ /åˆ†ç±»/ç¼–è¾‘": { cn: "ç¼–è¾‘", en: "Edit" },
  "èœå•æ /åˆ†ç±»/è§†å›¾": { cn: "è§†å›¾", en: "View" },
  "èœå•æ /åˆ†ç±»/å¼€å‘": { cn: "å¼€å‘", en: "Develop" },

  "èœå•æ /æ“ä½œ/æ‰“å¼€": { cn: "æ‰“å¼€", en: "Open" },
  "èœå•æ /æ“ä½œ/ä¿å­˜": { cn: "ä¿å­˜", en: "Save" },
  "èœå•æ /æ“ä½œ/å¦å­˜ä¸º": { cn: "å¦å­˜ä¸º", en: "Save As..." },
  "èœå•æ /æ“ä½œ/è‡ªåŠ¨ä¿å­˜": { cn: "è‡ªåŠ¨ä¿å­˜", en: "Auto Save" },
  "èœå•æ /æ“ä½œ/é€€å‡º": { cn: "é€€å‡º", en: "Quit" },
  "èœå•æ /æ“ä½œ/åˆ·æ–°": { cn: "åˆ·æ–°", en: "Reload" },
  "èœå•æ /æ“ä½œ/è°ƒè¯•å·¥å…·": { cn: "å¼€å‘è€…å·¥å…·", en: "Developer Tools" },

  "èœå•æ /ç¼–è¾‘/æ’¤é”€": { cn: "æ’¤é”€", en: "Undo" },
  "èœå•æ /ç¼–è¾‘/é‡åš": { cn: "é‡åš", en: "Redo" },
  "èœå•æ /ç¼–è¾‘/å‰ªåˆ‡": { cn: "å‰ªåˆ‡", en: "Cut" },
  "èœå•æ /ç¼–è¾‘/å¤åˆ¶": { cn: "å¤åˆ¶", en: "Copy" },
  "èœå•æ /ç¼–è¾‘/ç²˜è´´": { cn: "ç²˜è´´", en: "Paste" },
  "èœå•æ /ç¼–è¾‘/ç²˜è´´æ ·å¼": { cn: "ç²˜è´´å¹¶åŒ¹é…æ ·å¼", en: "Paste and Match Style" },
  "èœå•æ /ç¼–è¾‘/å…¨é€‰": { cn: "å…¨é€‰", en: "Select All" },

  // è®¾ç½®ç•Œé¢ - åˆ†ç»„ (å¯¹åº” defaultOptions.js ä¸­çš„ group1, group2, group3)
  "è®¾ç½®ç•Œé¢/åˆ†ç»„/å…¨å±€": { cn: "å…¨å±€", en: "Global" },
  "è®¾ç½®ç•Œé¢/åˆ†ç»„/ç»ˆç«¯": { cn: "ç»ˆç«¯", en: "Terminal" },
  "è®¾ç½®ç•Œé¢/åˆ†ç»„/ç•Œé¢": { cn: "ç•Œé¢", en: "Interface" },
  "è®¾ç½®ç•Œé¢/åˆ†ç»„/äººå·¥æ™ºèƒ½": { cn: "äººå·¥æ™ºèƒ½", en: "AI" },
  "è®¾ç½®ç•Œé¢/åˆ†ç»„/å…¶ä»–": { cn: "å…¶ä»–", en: "Others" },
  "è®¾ç½®ç•Œé¢/åˆ†ç»„/å¤§æ¨¡åž‹": { cn: "å¤§æ¨¡åž‹", en: "Models" },
  "è®¾ç½®ç•Œé¢/åˆ†ç»„/äº’åŠ¨è§’è‰²": { cn: "äº’åŠ¨è§’è‰²", en: "Actor" },
  "è®¾ç½®ç•Œé¢/åˆ†ç»„/åŸºæœ¬": { cn: "åŸºæœ¬", en: "Basic" },
  "è®¾ç½®ç•Œé¢/åˆ†ç»„/é€šç”¨": { cn: "é€šç”¨", en: "General" },
  "è®¾ç½®ç•Œé¢/åˆ†ç»„/é…ç½®": { cn: "é…ç½®", en: "Config" },

  // è®¾ç½®ç•Œé¢ - å­—æ®µå
  "è®¾ç½®ç•Œé¢/å­—æ®µ/å‘½ä»¤è¡Œç¨‹åº": { cn: "å‘½ä»¤è¡Œç¨‹åº", en: "Shell Path" },
  "è®¾ç½®ç•Œé¢/å­—æ®µ/ç»ˆç«¯å­—ä½“": { cn: "ç»ˆç«¯å­—ä½“", en: "Terminal Font" },
  "è®¾ç½®ç•Œé¢/å­—æ®µ/è§’è‰²å¼€å…³": { cn: "è§’è‰²å¼€å…³", en: "Actor Switch" },
  "è®¾ç½®ç•Œé¢/å­—æ®µ/æ¨¡åž‹å¼€å…³": { cn: "æ¨¡åž‹å¼€å…³", en: "AI Switch" },
  "è®¾ç½®ç•Œé¢/å­—æ®µ/æ¨¡åž‹åˆ—è¡¨": { cn: "æ¨¡åž‹åˆ—è¡¨", en: "Model List" },
  "è®¾ç½®ç•Œé¢/å­—æ®µ/ç³»ç»Ÿè¯­è¨€": { cn: "ç³»ç»Ÿè¯­è¨€", en: "System Language" },

  // æ¨¡åž‹åˆ—è¡¨å†…éƒ¨å­—æ®µ
  "è®¾ç½®ç•Œé¢/æ¨¡åž‹åˆ—è¡¨/é…ç½®åˆ«å": { cn: "é…ç½®åˆ«å", en: "Alias" },
  "è®¾ç½®ç•Œé¢/æ¨¡åž‹åˆ—è¡¨/æ¨¡åž‹ID": { cn: "æ¨¡åž‹ID (Model Name)", en: "Model ID" },
  "è®¾ç½®ç•Œé¢/æ¨¡åž‹åˆ—è¡¨/APIKey": { cn: "API Key", en: "API Key" },
  "è®¾ç½®ç•Œé¢/æ¨¡åž‹åˆ—è¡¨/æŽ¥å£åœ°å€": { cn: "æŽ¥å£åœ°å€ (Base URL)", en: "Base URL" },
  "è®¾ç½®ç•Œé¢/æ¨¡åž‹åˆ—è¡¨/é¢„è®¾æç¤ºè¯": { cn: "é¢„è®¾æç¤ºè¯ (System Prompt)", en: "System Prompt" },
  "è®¾ç½®ç•Œé¢/æ¨¡åž‹åˆ—è¡¨/ä»·æ ¼æƒé‡": { cn: "ä»·æ ¼æƒé‡", en: "Price Weight" },
  "è®¾ç½®ç•Œé¢/æ¨¡åž‹åˆ—è¡¨/æ¶ˆè€—å€çŽ‡": { cn: "æ¶ˆè€—å€çŽ‡", en: "Token Rate" },
  "è®¾ç½®ç•Œé¢/æ¨¡åž‹åˆ—è¡¨/ä½™é¢": { cn: "Token ä½™é¢", en: "Remaining Quota" },
  "è®¾ç½®ç•Œé¢/æ¨¡åž‹åˆ—è¡¨/å¯ç”¨çŠ¶æ€": { cn: "å¯ç”¨çŠ¶æ€", en: "Enabled" },
  "è®¾ç½®ç•Œé¢/æ¨¡åž‹åˆ—è¡¨/ç³»ç»Ÿå†…ç½®": { cn: "ç³»ç»Ÿå†…ç½®", en: "System Built-in" },
  "è®¾ç½®ç•Œé¢/æ¨¡åž‹åˆ—è¡¨/æœªå‘½å": { cn: "æœªå‘½åæ¨¡åž‹", en: "Unnamed Model" },
  "è®¾ç½®ç•Œé¢/æ¨¡åž‹åˆ—è¡¨/æ·»åŠ ": { cn: "+ æ·»åŠ æ–°æ¨¡åž‹", en: "+ Add Model" },
  "è®¾ç½®ç•Œé¢/æ¨¡åž‹åˆ—è¡¨/å¯¼å…¥æˆåŠŸ": { cn: "æˆåŠŸå¯¼å…¥æ¨¡åž‹", en: "Imported models successfully" },

  // èŠå¤©ç•Œé¢
  "èŠå¤©ç•Œé¢/æ ‡é¢˜/å®…å–µç»ˆç«¯": { cn: "å®…å–µç»ˆç«¯", en: "OwO Terminal" },
  "èŠå¤©ç•Œé¢/è¯æ±‡/å›žå¤": { cn: "å›žå¤", en: "Reply" },
  "èŠå¤©ç•Œé¢/è¯æ±‡/å¼•ç”¨": { cn: "å¼•ç”¨", en: "Quote" },
  "èŠå¤©ç•Œé¢/è¯æ±‡/æ’¤é”€": { cn: "æ’¤é”€", en: "Undo" },
  "èŠå¤©ç•Œé¢/è¯æ±‡/æš‚åœ": { cn: "æš‚åœ", en: "Pause" },
  "èŠå¤©ç•Œé¢/è¯æ±‡/åé¦ˆ": { cn: "åé¦ˆ", en: "Feedback" },
  "èŠå¤©ç•Œé¢/è¯æ±‡/åº”ç”¨": { cn: "åº”ç”¨", en: "Apps" },
  "èŠå¤©ç•Œé¢/è¯æ±‡/å·¥ä½œç›®å½•": { cn: "å·¥ä½œç›®å½•", en: "Cwd" },
  "èŠå¤©ç•Œé¢/è¯æ±‡/ç¨‹åº": { cn: "ç¨‹åº", en: "Program" },

  // å¯¼èˆªæ é¡¹ç›® (Dock èœå•)
  "å¯¼èˆªæ /é¡¹ç›®/å–µç»ˆç«¯": { cn: "å–µç»ˆç«¯", en: "OwO Terminal" },
  "å¯¼èˆªæ /é¡¹ç›®/è®¾ç½®": { cn: "è®¾ç½®", en: "Settings" },
  "å¯¼èˆªæ /é¡¹ç›®/AIé€‰æ‹©": { cn: "AIé€‰æ‹©", en: "AI Selection" },
  "å¯¼èˆªæ /é¡¹ç›®/æµè§ˆå™¨": { cn: "æµè§ˆå™¨", en: "Browser" },
  "å¯¼èˆªæ /é¡¹ç›®/ç¼–è¾‘å™¨": { cn: "ç¼–è¾‘å™¨", en: "Editor" },
  "å¯¼èˆªæ /é¡¹ç›®/æ–‡ä»¶ç®¡ç†å™¨": { cn: "èµ„æºç®¡ç†å™¨", en: "Explorer" },
  "å¯¼èˆªæ /é¡¹ç›®/äº”å­æ£‹": { cn: "äº”å­æ£‹", en: "Gomoku" },
  "å¯¼èˆªæ /é¡¹ç›®/ä»»åŠ¡ç®¡ç†å™¨": { cn: "ä»»åŠ¡ç®¡ç†å™¨", en: "Task Manager" },

  // Ollama ç›¸å…³
  "è®¾ç½®ç•Œé¢/Ollama/å¯¼å…¥æŒ‰é’®": { cn: "ä»Ž Ollama å¯¼å…¥", en: "Import from Ollama" },
  "è®¾ç½®ç•Œé¢/Ollama/è¾“å…¥æç¤º": { cn: "è¯·è¾“å…¥ Ollama API æœåŠ¡åœ°å€ï¼š", en: "Please enter Ollama API service URL:" },
  "è®¾ç½®ç•Œé¢/Ollama/ç«¯å£æç¤º": { cn: "é»˜è®¤ç«¯å£ä¸º 11434", en: "Default port is 11434" },
  "è®¾ç½®ç•Œé¢/Ollama/æŸ¥çœ‹å¸®åŠ©": { cn: "ðŸ“– å¦‚ä½•ä½¿ç”¨ Ollamaï¼Ÿ", en: "ðŸ“– How to use Ollama?" },

  // ç³»ç»ŸçŠ¶æ€ä¸Žé€šçŸ¥
  "ç³»ç»Ÿ/çŠ¶æ€/æ­£åœ¨å°è¯•è¿žæŽ¥": { cn: "æ­£åœ¨å°è¯•è¿žæŽ¥...", en: "Connecting..." },
  "ç³»ç»Ÿ/æ¶ˆæ¯/è½½å…¥æˆåŠŸ": { cn: "è½½å…¥æˆåŠŸ", en: "Loaded Successfully" },
  "ç³»ç»Ÿ/æ¶ˆæ¯/æ“ä½œæˆåŠŸ": { cn: "æ“ä½œæˆåŠŸ", en: "Success" },
  "ç³»ç»Ÿ/æ¶ˆæ¯/å¯¼å…¥å¤±è´¥": { cn: "å¯¼å…¥å¤±è´¥", en: "Import Failed" },
  "ç³»ç»Ÿ/æ¶ˆæ¯/æ›´æ–°å°±ç»ª": { cn: "æ›´æ–°å·²å°±ç»ª", en: "Update Ready" },
  "ç³»ç»Ÿ/æ¶ˆæ¯/ä¸‹è½½å®Œæˆ": { cn: "æ–°ç‰ˆæœ¬å·²ä¸‹è½½å®Œæˆã€‚æ˜¯å¦çŽ°åœ¨é‡å¯åº”ç”¨ä»¥å®Œæˆæ›´æ–°ï¼Ÿ", en: "New version downloaded. Restart now to update?" },
  "ç³»ç»Ÿ/æç¤º/ç¡®è®¤é€€å‡º": { cn: "é€€å‡ºç¡®è®¤", en: "Quit Confirmation" },
  "ç³»ç»Ÿ/æç¤º/æœªä¿å­˜æ›´æ”¹": { cn: "å½“å‰é¡¹ç›®æœ‰æœªä¿å­˜çš„æ›´æ”¹ï¼Œè¦åœ¨é€€å‡ºå‰ä¿å­˜å—ï¼Ÿ", en: "The current project has unsaved changes. Do you want to save before quitting?" },
  "ç³»ç»Ÿ/åŠ¨ä½œ/ä¿å­˜å¹¶é€€å‡º": { cn: "ä¿å­˜å¹¶é€€å‡º", en: "Save and Quit" },
  "ç³»ç»Ÿ/åŠ¨ä½œ/ç›´æŽ¥é€€å‡º": { cn: "ç›´æŽ¥é€€å‡º (ä¸ä¿å­˜)", en: "Quit (Don't Save)" },
  "ç³»ç»Ÿ/åŠ¨ä½œ/çŽ°åœ¨é‡å¯": { cn: "çŽ°åœ¨é‡å¯", en: "Restart Now" },
  "ç³»ç»Ÿ/åŠ¨ä½œ/ç¨åŽæé†’": { cn: "ç¨åŽæé†’", en: "Remind Me Later" },
  "ç³»ç»Ÿ/é”™è¯¯/æç¤º": { cn: "å‘ç”Ÿé”™è¯¯: ", en: "Error: " },
  "ç³»ç»Ÿ/é”™è¯¯/å¯åŠ¨å¤±è´¥": { cn: "å¯åŠ¨å¤±è´¥", en: "Start Failed" },
  "ç³»ç»Ÿ/é”™è¯¯/ç«¯å£å ç”¨": { cn: "ç«¯å£ 9501 è¢«å ç”¨ï¼Œè¯·æ£€æŸ¥æ˜¯å¦å·²æ‰“å¼€å¦ä¸€ä¸ªå®žä¾‹ã€‚", en: "Port 9501 is in use. Check if another instance is running." },

  // API é”™è¯¯æ¶ˆæ¯
  "API/é”™è¯¯/æœåŠ¡å™¨å†…éƒ¨é”™è¯¯": { cn: "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯", en: "Internal Server Error" },
  "API/é”™è¯¯/æ‰¾ä¸åˆ°å‡½æ•°": { cn: "æ‰¾ä¸åˆ°å‡½æ•°", en: "Function not found" },
  "API/é”™è¯¯/å‡½æ•°æ‰§è¡Œé”™è¯¯": { cn: "å‡½æ•°æ‰§è¡Œé”™è¯¯", en: "Function execution error" },
  "API/æ¶ˆæ¯/å·²å‘é€åœæ­¢ä¿¡å·": { cn: "å·²å‘é€åœæ­¢ä¿¡å·", en: "Stop signal sent" },

  // crossFuncs å¯¹è¯æ¡†
  "å¯¹è¯æ¡†/æ ‡é¢˜/ä¿å­˜æ–‡ä»¶": { cn: "ä¿å­˜æ–‡ä»¶", en: "Save File" },
  "å¯¹è¯æ¡†/æ ‡é¢˜/æ‰“å¼€æ–‡ä»¶": { cn: "æ‰“å¼€æ–‡ä»¶", en: "Open File" },
  "å¯¹è¯æ¡†/æ ‡é¢˜/ä¿å­˜é¡¹ç›®": { cn: "ä¿å­˜é¡¹ç›®", en: "Save Project" },
  "å¯¹è¯æ¡†/æ ‡é¢˜/æ‰“å¼€é¡¹ç›®": { cn: "æ‰“å¼€é¡¹ç›®", en: "Open Project" },
  "å¯¹è¯æ¡†/æŒ‰é’®/ä¿å­˜": { cn: "ä¿å­˜", en: "Save" },
  "å¯¹è¯æ¡†/æŒ‰é’®/æ‰“å¼€": { cn: "æ‰“å¼€", en: "Open" },
  "å¯¹è¯æ¡†/è¿‡æ»¤å™¨/å…¨éƒ¨æ–‡ä»¶": { cn: "å…¨éƒ¨æ–‡ä»¶", en: "All Files" },

  // crossFuncs æ¶ˆæ¯
  "crossFuncs/é”™è¯¯/ç¼ºå°‘appId": { cn: "ç¼ºå°‘ appId", en: "Missing appId" },
  "crossFuncs/æ¶ˆæ¯/èŽ·å–æˆåŠŸ": { cn: "èŽ·å–æˆåŠŸ", en: "Retrieved successfully" },
  "crossFuncs/æ¶ˆæ¯/æ›´æ–°æˆåŠŸ": { cn: "æ›´æ–°æˆåŠŸ", en: "Updated successfully" },
  "crossFuncs/æ¶ˆæ¯/ä¿å­˜æˆåŠŸ": { cn: "ä¿å­˜æˆåŠŸ", en: "Saved successfully" },
  "crossFuncs/é”™è¯¯/é…ç½®è¡¨æ•°æ®å¼‚å¸¸": { cn: "é…ç½®è¡¨æ•°æ®å¼‚å¸¸", en: "Configuration data error" },
  "crossFuncs/é”™è¯¯/ç³»ç»Ÿé”™è¯¯": { cn: "ç³»ç»Ÿé”™è¯¯: ", en: "System error: " },
  "crossFuncs/é”™è¯¯/æœªçŸ¥é”™è¯¯": { cn: "æœªçŸ¥é”™è¯¯", en: "Unknown error" },

  // Ollama æ¨¡åž‹å¯¼å…¥
  "crossFuncs/Ollama/æœªæ‰¾åˆ°æ¨¡åž‹": { cn: "æœªæ‰¾åˆ°ä»»ä½• Ollama æ¨¡åž‹", en: "No Ollama models found" },
  "crossFuncs/æ¨¡åž‹/è¯·ä¼ å…¥æ¨¡åž‹å": { cn: "è¯·ä¼ å…¥æ¨¡åž‹å", en: "Please provide a model name" },
  "crossFuncs/æ¨¡åž‹/æœªæ‰¾åˆ°é€‰å®šæ¨¡åž‹": { cn: "åœ¨aiBasicé‡Œæœªæ‰¾åˆ°é€‰å®šæ¨¡åž‹ï¼Œæ— æ³•æ›´æ–°æ¨¡åž‹é…ç½®", en: "Selected model not found in aiBasic, cannot update config" },

  // ç”¨æˆ·å¯è§çš„å·¥å…·æ‰§è¡Œæ¶ˆæ¯
  "å·¥å…·æ¶ˆæ¯/è¯·åœ¨ç¼–è¾‘å™¨ä¸­æ ¸å¯¹ä»£ç ": { cn: "è¯·åœ¨ç¼–è¾‘å™¨ä¸­æ ¸å¯¹ä»£ç å¹¶æ‰¹å‡†/æ‹’ç»ä¿®æ”¹", en: "Please review the code in the editor and approve/reject changes" }
};

/**
 * ç¿»è¯‘é€»è¾‘ (åŒæ­¥)
 */
export const trs = (key, list) => {
  const lang = options.json?.global_language?.value || 'cn';

  if (list && typeof list === 'object') {
    return list[lang] || list['cn'] || list['en'] || key;
  }

  const match = globalDict[key];
  if (match) {
    return match[lang] || match['cn'] || match['en'] || key;
  }

  if (typeof key === 'string' && key.includes('/')) {
    const parts = key.split('/');
    return parts[parts.length - 1];
  }

  return key;
};

export default { globalDict, trs };
